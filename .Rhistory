# Chunk 12
# fit model
models[["secondary"]][["liking"]] <-
lmer(tsk ~ trial * condition +
(1 | lab) +
(1 | ResponseId),
data = DF.l.fil)
# inspect results
anova(models[["secondary"]][["liking"]])
joint_tests(models[["secondary"]][["liking"]],
by = "condition",
lmerTest.limit = 3008)
emmeans(models[["secondary"]][["liking"]],
pairwise ~ trial | condition,
adjust = "none")
# descriptives
DF.l.fil %>%
group_by(condition, trial) %>%
summarise(m = mean(happiness),
sd = sd(happiness))
DF.l.fil %>%
group_by(condition, image, trial) %>%
summarise(m = mean(happiness),
sd = sd(happiness))
models[["secondary"]][["anxiety"]] <-
lmer(anxiety ~ trial * image * condition +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
anova(models[["secondary"]][["anxiety"]])
emmeans(models[["secondary"]][["anxiety"]],
pairwise ~ trial | condition,
adjust = "none")
anova(models[["secondary"]][["anxiety"]])
anova(models[["secondary"]][["anger"]])
# fit model
models[["secondary"]][["anger"]] <-
lmer(anger ~ trial * image * condition +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
# inspect results
anova(models[["secondary"]][["anger"]])
?lapply
lapply(
X = c("condition", "trial"),
FUN = function(x) {
DF.l %>%
group_by(condition) %>%
summarise(
m.anx = mean(anxiety),
sd.anx = sd(anxiety),
m.ang = mean(anger),
sd.ang = sd(anger)
)
}
)
lapply(
X = c("condition", "trial"),
FUN = function(x) {
print(x)
DF.l %>%
group_by(condition) %>%
summarise(
m.anx = mean(anxiety),
sd.anx = sd(anxiety),
m.ang = mean(anger),
sd.ang = sd(anger)
)
}
)
lapply(
X = c("condition", "trial"),
FUN = function(x) {
print(x)
DF.l %>%
group_by(x) %>%
summarise(
m.anx = mean(anxiety),
sd.anx = sd(anxiety),
m.ang = mean(anger),
sd.ang = sd(anger)
)
}
)
# Chunk 1
# clear environment
rm(list = ls())
# install (if necessary) and load packages
# function written by stevenworthington
Ipak <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[, 'Package'])]
if (length(new.pkg))
install.packages(new.pkg, dependencies = TRUE)
sapply(pkg, require, character.only = TRUE)
}
# vector of necessary packages
packages <- c('tidyverse', 'ggplot2', 'lme4',
'lmerTest', 'emmeans', 'metafor',
'ggtext')
# using vector of packages, call ipak function
Ipak(packages)
# delete vestigial
rm(packages, Ipak)
# turn scientific notation off
options(scipen = 999)
# allow for Type III Sums of Square
options(contrasts = c('contr.sum', 'contr.poly'))
# set plotting options
theme_set(theme_classic() +
theme(strip.background = element_rect(fill = "gray35"),
strip.text =element_text(colour = "white"),
panel.border = element_blank(),
legend.position = "none"
)
)
# Chunk 2
DF.w <- readRDS("data/DF.w.rds")
DF.l.full <- readRDS("data/DF.l.full.rds")
DF.l <- readRDS("data/DF.l.rds")
DF.l.inc <- readRDS("data/DF.l.inc.rds")
# Chunk 3
# n participants
DF.w %>% nrow()
# n labs
DF.l$lab %>% unique() %>% length()
# n countries
DF.l$lab %>%
substr(start = 1,
stop = 3) %>%
unique() %>%
length()
# condition n
table(DF.l$condition) %>% prop.table()
table(DF.l$condition, DF.l$image) %>% prop.table()
# gender
table(DF.l$indiv_gend_var) %>% prop.table()
# age
DF.w %>%
summarise(m = mean(indiv_agee_var,
na.rm = T),
sd = sd(indiv_agee_var,
na.rm = T))
# Chunk 4
models <- list()
# Chunk 5
# fit model
models[["primary"]][["prereg.min"]] <-
lmer(happiness ~ trial * condition * image +
(1 | ResponseId) +
(1 | lab),
data = DF.l.inc)
# inspect results
summary(models[["primary"]][["prereg.min"]])
anova(models[["primary"]][["prereg.min"]])
joint_tests(models[["primary"]][["prereg.min"]],
by = "condition",
lmerTest.limit = 9999)
joint_tests(models[["primary"]][["prereg.min"]],
by = c("image", "condition"),
lmerTest.limit = 9999)
# descriptives
DF.l.inc %>%
group_by(condition, trial) %>%
summarise(m = mean(happiness),
sd = sd(happiness))
DF.l.inc %>%
group_by(condition, image, trial) %>%
summarise(m = mean(happiness),
sd = sd(happiness))
# Chunk 6
lmer(happiness ~ trial * condition * image +
(1 | ResponseId) +
(1 | lab),
data = DF.l.inc,
subset = condition != "pentask") %>%
anova()
# Chunk 8
# fit model
models[["primary"]][["full.sens"]] <-
lmer(happiness ~ trial * condition * image +
(1 | ResponseId) +
(1 | lab),
data = DF.l)
# inspect results
summary(models[["primary"]][["full.sens"]])
anova(models[["primary"]][["full.sens"]])
joint_tests(models[["primary"]][["full.sens"]],
by = "condition",
lmerTest.limit = c)
joint_tests(models[["primary"]][["full.sens"]],
by = "condition",
lmerTest.limit = full.sens)
joint_tests(models[["primary"]][["full.sens"]],
by = c("image", "condition"),
lmerTest.limit = full.sens)
# Chunk 9
DF.l.fil <- DF.l.full %>%
filter(inc == 1,
inc.awa == 1)
# Chunk 10
# fit model
models[["secondary"]][["alt.exp"]] <-
lmer(happiness ~ trial * condition * image +
(1 | lab) +
(1 | ResponseId),
data = DF.l.fil)
# inspect results
anova(models[["secondary"]][["alt.exp"]])
joint_tests(models[["secondary"]][["alt.exp"]],
by = "image",
lmerTest.limit = 9999)
emmeans(models[["secondary"]][["alt.exp"]],
pairwise ~ trial | condition | image,
adjust = "none")
# Chunk 12
# fit model
models[["secondary"]][["liking"]] <-
lmer(tsk ~ trial * condition +
(1 | lab) +
(1 | ResponseId),
data = DF.l.fil)
# inspect results
anova(models[["secondary"]][["liking"]])
joint_tests(models[["secondary"]][["liking"]],
by = "condition",
lmerTest.limit = 3008)
emmeans(models[["secondary"]][["liking"]],
pairwise ~ trial | condition,
adjust = "none")
# descriptives
DF.l.fil %>%
group_by(condition, trial) %>%
summarise(m = mean(happiness),
sd = sd(happiness))
DF.l.fil %>%
group_by(condition, image, trial) %>%
summarise(m = mean(happiness),
sd = sd(happiness))
# Chunk 13
# fit model
models[["secondary"]][["anxiety"]] <-
lmer(anxiety ~ trial * image * condition +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
# inspect results
anova(models[["secondary"]][["anxiety"]])
# Chunk 14
# fit model
models[["secondary"]][["anger"]] <-
lmer(anger ~ trial * image * condition +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
# inspect results
anova(models[["secondary"]][["anger"]])
# Chunk 15
DF.l %>%
group_by(condition) %>%
summarise(m.anx = mean(anxiety),
sd.anx = sd(anxiety),
m.ang = mean(anger),
sd.ang = sd(anger))
DF.l %>%
group_by(trial) %>%
summarise(m.anx = mean(anxiety),
sd.anx = sd(anxiety),
m.ang = mean(anger),
sd.ang = sd(anger))
# filter data
DF.inc.no.anx <- DF.l.inc %>%
filter(anxiety == 1)
# filter data
DF.inc.no.anx <- DF.l.inc %>%
filter(anxiety == 1)
# fit model
models[["exploratory"]][["no.anx"]]<-
lmer(happiness ~ trial * image * condition +
(1 | ResponseId) +
(1 | lab),
data = DF.inc.no.anx)
anova(models[["exploratory"]][["no.anx"]])
joint_tests(models[["primary"]][["prereg"]],
by = "condition",
lmerTest.limit = 9999)
joint_tests(models[["exploratory"]][["no.anx"]],
by = "condition",
lmerTest.limit = 9999)
joint_tests(models[["primary"]][["prereg"]],
by = c("image", "condition"),
lmerTest.limit = 9999)
joint_tests(models[["exploratory"]][["no.anx"]],
by = c("image", "condition"),
lmerTest.limit = 9999)
anova(models[["exploratory"]][["no.anx"]])
joint_tests(models[["exploratory"]][["no.anx"]],
by = c("image", "condition"),
lmerTest.limit = 9999)
# filter data
DF.inc.no.anx <- DF.l.inc %>%
filter(anxiety == 1)
models[["exploratory"]][["no.anx"]] <-
lmer(happiness ~ trial * image * condition +
(1 | ResponseId) +
(1 | lab),
data = DF.inc.no.anx)
anova(models[["exploratory"]][["no.anx"]])
joint_tests(models[["exploratory"]][["no.anx"]],
by = "condition",
lmerTest.limit = 9999)
joint_tests(models[["exploratory"]][["no.anx"]],
by = c("image", "condition"),
lmerTest.limit = 9999)
joint_tests(models[["exploratory"]][["no.anx"]],
by = "condition",
lmerTest.limit = 9999)
DF.inc.no.anx$ResponseId %>% unique() %>% length()
joint_tests(models[["exploratory"]][["no.anx"]],
by = c("image", "condition"),
lmerTest.limit = 9999)
joint_tests(models[["exploratory"]][["no.anx"]],
by = "condition",
lmerTest.limit = 9999)
models[["secondary"]][["quality.rating"]] <-
lmer(happiness ~
trial * condition * image * qulty_rate_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
anova(models[["secondary"]][["quality.rating"]])
joint_tests(models[["secondary"]][["quality.rating"]],
by = "condition",
lmerTest.limit = 9999)
lapply(X = c(1 : 7),
function(x){
emmeans(models[["secondary"]][["quality.rating"]],
pairwise ~ trial | condition,
at = list(qulty_rate_var = x))
}
)
tmp <- lmer(happiness ~
trial * condition * qulty_rate_var +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
lapply(X = c(1 : 7),
function(x){
emmeans(tmp,
pairwise ~ trial | condition,
at = list(qulty_rate_var = x))
}
)
# fit model
models[["secondary"]][["simil.rating"]] <-
lmer(happiness ~
trial * condition * image * qulty_smlr_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
# fit model
models[["secondary"]][["simil.rating"]] <-
lmer(happiness ~
trial * condition * image * qulty_smlr_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
# inspect results
anova(models[["supplementary"]][["simil.rating"]])
lmer(happiness ~
trial * image * qulty_smlr_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l,
subset = condition == "mimicry") %>%
anova()
lmer(happiness ~
trial * image * qulty_smlr_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l,
subset = condition == "directd") %>%
anova()
lmer(happiness ~
trial * image * qulty_smlr_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l,
subset = condition == "pentask") %>%
anova()
lmer(happiness ~
trial * image * qulty_smlr_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l,
subset = condition == "pentask")
tmp <- lmer(happiness ~
trial * condition * qulty_smlr_var +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
lapply(X = c(1 : 7),
function(x){
emmeans(tmp,
pairwise ~ trial | condition,
at = list(qulty_smlr_var = x))
}
)
anova(models[["secondary"]][["simil.rating"]])
models[["secondary"]][["feel.rating"]] <-
lmer(happiness ~
trial * condition * image * qulty_feel_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
# fit model
models[["secondary"]][["feel.rating"]] <-
lmer(happiness ~
trial * condition * image * qulty_feel_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
# inspect results
anova(models[["supplementary"]][["feel.rating"]])
anova(models[["secondary"]][["feel.rating"]])
lmer(happiness ~
trial * image * qulty_feel_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l,
subset = condition == "mimicry") %>%
anova()
lmer(happiness ~
trial * image * qulty_feel_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l,
subset = condition == "directd") %>%
anova()
lmer(happiness ~
trial * image * qulty_feel_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l,
subset = condition == "pentask") %>%
anova()
lmer(happiness ~
trial * image * qulty_feel_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l,
subset = condition == "mimicry") %>%
anova()
lmer(happiness ~
trial * image * qulty_feel_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l,
subset = condition == "directd") %>%
anova()
lmer(happiness ~
trial * image * qulty_feel_var.c +
(1 | lab) +
(1 | ResponseId),
data = DF.l,
subset = condition == "pentask") %>%
anova()
tmp <- lmer(happiness ~
trial * condition * qulty_feel_var +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
lapply(X = c(1 : 7),
function(x){
emmeans(tmp,
pairwise ~ trial | condition,
at = list(qulty_feel_var = x))
}
)
rm(tmp)
models[["supplementary"]][["awareness"]] <-
lmer(happiness ~
trial * condition * image *  awareness +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
anova(models[["supplementary"]][["awareness"]])
# fit model
models[["secondary"]][["awareness"]] <-
lmer(happiness ~
trial * condition * image *  awareness +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
# inspect results
anova(models[["secondary"]][["awareness"]])
# fit model
models[["secondary"]][["body.aware"]] <-
lmer(happiness ~
trial * condition * image *  indiv_body +
(1 | lab) +
(1 | ResponseId),
data = DF.l)
# inspect results
anova(models[["secondary"]][["body.aware"]])
summary(models[["secondary"]][["body.aware"]])
DF.l$indiv_body %>% mean()
DF.l$indiv_body %>% mean(na.rm = T)
ggplot(data = DF.w,
aes(x = qulty_rate_var)) +
geom_histogram(bins = 7) +
facet_wrap(~condition)
